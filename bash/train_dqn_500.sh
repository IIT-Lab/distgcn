#!/bin/bash

# python3 mwis_dqn_origin.py --epsilon=1 --epsilon_min=0.002 --feature_size=1 --diver_num=1 --datapath=./data/ER_Graph_Uniform_mixN_mixp_train1 --test_datapath=./data/ER_Graph_Uniform_GEN21_test2 --max_degree=1 --predict=mwis --learning_rate=0.00001 --hidden1=32 --num_layer=20 --epochs=5
# python3 mwis_dqn_origin.py --epsilon=0.2 --epsilon_min=0.002 --feature_size=1 --diver_num=1 --datapath=./data/ER_Graph_Uniform_mixN_mixp_train1 --test_datapath=./data/ER_Graph_Uniform_GEN21_test2 --max_degree=1 --predict=mwis --learning_rate=0.00001 --hidden1=32 --num_layer=20 --epochs=5
# python3 mwis_dqn_origin.py --epsilon=0.1 --epsilon_min=0.002 --feature_size=1 --diver_num=1 --datapath=./data/ER_Graph_Uniform_mixN_mixp_train1 --test_datapath=./data/ER_Graph_Uniform_GEN21_test2 --max_degree=1 --predict=mwis --learning_rate=0.000001 --hidden1=32 --num_layer=20 --epochs=5
# python3 mwis_dqn_origin.py --epsilon=0.05 --epsilon_min=0.002 --feature_size=1 --diver_num=1 --datapath=./data/ER_Graph_Uniform_mixN_mixp_train1 --test_datapath=./data/ER_Graph_Uniform_GEN21_test2 --max_degree=1 --predict=mwis --learning_rate=0.0000001 --hidden1=32 --num_layer=20 --epochs=10

# python3 mwis_dqn_origin.py --epsilon=1 --epsilon_min=0.002 --feature_size=1 --diver_num=1 --datapath=./data/ER_Graph_Uniform_mixN_mixp_train1 --test_datapath=./data/ER_Graph_Uniform_GEN21_test2 --max_degree=1 --predict=mwis --learning_rate=0.00001 --hidden1=32 --num_layer=20 --epochs=5
# python3 mwis_dqn_origin.py --epsilon=0.2 --epsilon_min=0.002 --feature_size=1 --diver_num=1 --datapath=./data/ER_Graph_Uniform_mixN_mixp_train1 --test_datapath=./data/ER_Graph_Uniform_GEN21_test2 --max_degree=1 --predict=mwis --learning_rate=0.00001 --hidden1=32 --num_layer=20 --epochs=5
# python3 mwis_dqn_origin.py --epsilon=0.1 --epsilon_min=0.002 --feature_size=1 --diver_num=1 --datapath=./data/ER_Graph_Uniform_mixN_mixp_train1 --test_datapath=./data/ER_Graph_Uniform_GEN21_test2 --max_degree=1 --predict=mwis --learning_rate=0.000001 --hidden1=32 --num_layer=20 --epochs=5
# python3 mwis_dqn_origin.py --epsilon=0.05 --epsilon_min=0.002 --feature_size=1 --diver_num=1 --datapath=./data/ER_Graph_Uniform_mixN_mixp_train1 --test_datapath=./data/ER_Graph_Uniform_GEN21_test2 --max_degree=1 --predict=mwis --learning_rate=0.0000001 --hidden1=32 --num_layer=20 --epochs=10

# python3 mwis_dqn_origin.py --epsilon=1 --epsilon_min=0.002 --feature_size=1 --diver_num=1 --datapath=./data/ER_Graph_Uniform_mixN_mixp_train1 --test_datapath=./data/ER_Graph_Uniform_GEN21_test2 --max_degree=1 --predict=mwis --learning_rate=0.00001 --hidden1=32 --num_layer=20 --epochs=5
# python3 mwis_dqn_origin.py --epsilon=0.2 --epsilon_min=0.002 --feature_size=1 --diver_num=1 --datapath=./data/ER_Graph_Uniform_mixN_mixp_train1 --test_datapath=./data/ER_Graph_Uniform_GEN21_test2 --max_degree=1 --predict=mwis --learning_rate=0.00001 --hidden1=32 --num_layer=20 --epochs=5
# python3 mwis_dqn_origin.py --epsilon=0.1 --epsilon_min=0.002 --feature_size=1 --diver_num=1 --datapath=./data/ER_Graph_Uniform_mixN_mixp_train1 --test_datapath=./data/ER_Graph_Uniform_GEN21_test2 --max_degree=1 --predict=mwis --learning_rate=0.000001 --hidden1=32 --num_layer=20 --epochs=5
# python3 mwis_dqn_origin.py --epsilon=0.05 --epsilon_min=0.002 --feature_size=1 --diver_num=1 --datapath=./data/ER_Graph_Uniform_mixN_mixp_train1 --test_datapath=./data/ER_Graph_Uniform_GEN21_test2 --max_degree=1 --predict=mwis --learning_rate=0.0000001 --hidden1=32 --num_layer=20 --epochs=10

# python3 mwis_dqn_origin.py --epsilon=1 --epsilon_min=0.002 --feature_size=1 --diver_num=1 --datapath=./data/ER_Graph_Uniform_mixN_mixp_train1 --test_datapath=./data/ER_Graph_Uniform_GEN21_test1 --max_degree=1 --predict=mwis --learning_rate=0.00001 --hidden1=32 --num_layer=1 --epochs=5
# python3 mwis_dqn_origin.py --epsilon=0.2 --epsilon_min=0.002 --feature_size=1 --diver_num=1 --datapath=./data/ER_Graph_Uniform_mixN_mixp_train1 --test_datapath=./data/ER_Graph_Uniform_GEN21_test1 --max_degree=1 --predict=mwis --learning_rate=0.00001 --hidden1=32 --num_layer=1 --epochs=5
# python3 mwis_dqn_origin.py --epsilon=0.1 --epsilon_min=0.002 --feature_size=1 --diver_num=1 --datapath=./data/ER_Graph_Uniform_mixN_mixp_train1 --test_datapath=./data/ER_Graph_Uniform_GEN21_test1 --max_degree=1 --predict=mwis --learning_rate=0.000001 --hidden1=32 --num_layer=1 --epochs=5
# python3 mwis_dqn_origin.py --epsilon=0.05 --epsilon_min=0.002 --feature_size=1 --diver_num=1 --datapath=./data/ER_Graph_Uniform_mixN_mixp_train1 --test_datapath=./data/ER_Graph_Uniform_GEN21_test1 --max_degree=1 --predict=mwis --learning_rate=0.0000001 --hidden1=32 --num_layer=1 --epochs=10

graph='BA';
dist='Uniform';
size=150;
setval='DQNBA';
# train_data="${graph}_Graph_${dist}_N${size}_mixp_train0";
# if [ -d "./data/${train_data}" ]; then
# 	echo "${train_data} already exists, skip generation.";
# else
# 	python3 Data_Generation.py --datapath ./data/${train_data} --n 1000 --sizes "${size}" --ps "0.02,0.05,0.075,0.10,0.15" --type "${graph}" >> log_data_generation_${dist}.txt;
# 	python3 Data_Generation.py --datapath ./data/${train_data} --n 100 --sizes "${size}" --ps "0.90,0.80,0.70,0.60,0.50,0.40,0.30" --type "${graph}" --dist "${dist}" >> log_data_generation_${dist}.txt;
# 	python3 Data_Generation.py --datapath ./data/${train_data} --n 30 --sizes "20" --nbs "18,16,14,12,10,8,6,4,2" --type "${graph}" --dist "${dist}" >> log_data_generation_${dist}.txt;
# 	# python3 Data_Generation.py --datapath ./data/${graph}_Graph_${dist}_N${size}_train0 --n 100 --sizes "${size}" --nbs "90,80,70,60,50,40,30" --type "${graph}" >> log_data_generation_${dist}.txt;
# 	# python3 Data_Generation.py --datapath ./data/${graph}_Graph_${dist}_N${size}_train0 --n 100 --sizes "20" --nbs "18,16,14,12,10,8,6,4,2" --type "${graph}" >> log_data_generation_${dist}.txt;
# fi

train_data="${graph}_Graph_${dist}_mixN_mixp_train0";
if [ -d "./data/${train_data}" ]; then
	echo "${train_data} already exists, skip generation.";
else
	python3 Data_Generation.py --datapath ./data/${train_data} --n 200 --sizes "50,100,150,200,250" --ps "0.02,0.05,0.075,0.10,0.15" --type "${graph}" > log_data_generation_${dist}.txt;
	python3 Data_Generation.py --datapath ./data/${train_data} --n 20 --sizes "50,100,150,200,250" --ps "0.90,0.80,0.70,0.60,0.50,0.40,0.30" --type "${graph}" --dist "normal_l2" >> log_data_generation_${dist}.txt;
	python3 Data_Generation.py --datapath ./data/${train_data} --n 30 --sizes "20" --nbs "18,16,14,12,10,8,6,4,2" --type "${graph}" --dist "normal_l2" >> log_data_generation_${dist}.txt;
fi

test_data="${graph}_Graph_${dist}_GEN21_test1";
# test_data="ER_Graph_Uniform_GEN21_test1";

# python3 mwis_dqn_origin.py --training_set=${setval} --epsilon=1 --epsilon_min=0.002 --feature_size=1 --diver_num=1 --datapath=./data/${train_data} --test_datapath=./data/${test_data} --max_degree=1 --predict=mwis --learning_rate=0.00001 --hidden1=32 --num_layer=1 --epochs=5
# python3 mwis_dqn_origin.py --training_set=${setval} --epsilon=0.2 --epsilon_min=0.002 --feature_size=1 --diver_num=1 --datapath=./data/${train_data} --test_datapath=./data/${test_data} --max_degree=1 --predict=mwis --learning_rate=0.00001 --hidden1=32 --num_layer=1 --epochs=5
# python3 mwis_dqn_origin.py --training_set=${setval} --epsilon=0.1 --epsilon_min=0.002 --feature_size=1 --diver_num=1 --datapath=./data/${train_data} --test_datapath=./data/${test_data} --max_degree=1 --predict=mwis --learning_rate=0.000001 --hidden1=32 --num_layer=1 --epochs=5
# python3 mwis_dqn_origin.py --training_set=${setval} --epsilon=0.05 --epsilon_min=0.002 --feature_size=1 --diver_num=1 --datapath=./data/${train_data} --test_datapath=./data/${test_data} --max_degree=1 --predict=mwis --learning_rate=0.0000001 --hidden1=32 --num_layer=1 --epochs=10

python3 mwis_dqn_origin.py --training_set=${setval} --epsilon=1 --epsilon_min=0.002 --feature_size=1 --diver_num=1 --datapath=./data/${train_data} --test_datapath=./data/${test_data} --max_degree=1 --predict=mwis --learning_rate=0.00001 --hidden1=32 --num_layer=20 --epochs=25
# python3 mwis_dqn_origin.py --training_set=${setval} --epsilon=1 --epsilon_min=0.002 --feature_size=1 --diver_num=1 --datapath=./data/${train_data} --test_datapath=./data/${test_data} --max_degree=1 --predict=mwis --learning_rate=0.00001 --hidden1=32 --num_layer=20 --epochs=5
# python3 mwis_dqn_origin.py --training_set=${setval} --epsilon=0.2 --epsilon_min=0.002 --feature_size=1 --diver_num=1 --datapath=./data/${train_data} --test_datapath=./data/${test_data} --max_degree=1 --predict=mwis --learning_rate=0.00001 --hidden1=32 --num_layer=20 --epochs=5
# python3 mwis_dqn_origin.py --training_set=${setval} --epsilon=0.1 --epsilon_min=0.002 --feature_size=1 --diver_num=1 --datapath=./data/${train_data} --test_datapath=./data/${test_data} --max_degree=1 --predict=mwis --learning_rate=0.000001 --hidden1=32 --num_layer=20 --epochs=5
# python3 mwis_dqn_origin.py --training_set=${setval} --epsilon=0.05 --epsilon_min=0.002 --feature_size=1 --diver_num=1 --datapath=./data/${train_data} --test_datapath=./data/${test_data} --max_degree=1 --predict=mwis --learning_rate=0.0000001 --hidden1=32 --num_layer=20 --epochs=10

python3 mwis_dqn_origin.py --training_set=${setval} --epsilon=1 --epsilon_min=0.002 --feature_size=1 --diver_num=1 --datapath=./data/${train_data} --test_datapath=./data/${test_data} --max_degree=1 --predict=mwis --learning_rate=0.00001 --hidden1=32 --num_layer=2 --epochs=25
# python3 mwis_dqn_origin.py --training_set=${setval} --epsilon=1 --epsilon_min=0.002 --feature_size=1 --diver_num=1 --datapath=./data/${train_data} --test_datapath=./data/${test_data} --max_degree=1 --predict=mwis --learning_rate=0.00001 --hidden1=32 --num_layer=2 --epochs=5
# python3 mwis_dqn_origin.py --training_set=${setval} --epsilon=0.2 --epsilon_min=0.002 --feature_size=1 --diver_num=1 --datapath=./data/${train_data} --test_datapath=./data/${test_data} --max_degree=1 --predict=mwis --learning_rate=0.00001 --hidden1=32 --num_layer=2 --epochs=5
# python3 mwis_dqn_origin.py --training_set=${setval} --epsilon=0.1 --epsilon_min=0.002 --feature_size=1 --diver_num=1 --datapath=./data/${train_data} --test_datapath=./data/${test_data} --max_degree=1 --predict=mwis --learning_rate=0.000001 --hidden1=32 --num_layer=2 --epochs=5
# python3 mwis_dqn_origin.py --training_set=${setval} --epsilon=0.05 --epsilon_min=0.002 --feature_size=1 --diver_num=1 --datapath=./data/${train_data} --test_datapath=./data/${test_data} --max_degree=1 --predict=mwis --learning_rate=0.0000001 --hidden1=32 --num_layer=2 --epochs=10

python3 mwis_dqn_origin.py --training_set=${setval} --epsilon=1 --epsilon_min=0.002 --feature_size=1 --diver_num=1 --datapath=./data/${train_data} --test_datapath=./data/${test_data} --max_degree=1 --predict=mwis --learning_rate=0.00001 --hidden1=32 --num_layer=3 --epochs=25
# python3 mwis_dqn_origin.py --training_set=${setval} --epsilon=1 --epsilon_min=0.002 --feature_size=1 --diver_num=1 --datapath=./data/${train_data} --test_datapath=./data/${test_data} --max_degree=1 --predict=mwis --learning_rate=0.00001 --hidden1=32 --num_layer=3 --epochs=5
# python3 mwis_dqn_origin.py --training_set=${setval} --epsilon=0.2 --epsilon_min=0.002 --feature_size=1 --diver_num=1 --datapath=./data/${train_data} --test_datapath=./data/${test_data} --max_degree=1 --predict=mwis --learning_rate=0.00001 --hidden1=32 --num_layer=3 --epochs=5
# python3 mwis_dqn_origin.py --training_set=${setval} --epsilon=0.1 --epsilon_min=0.002 --feature_size=1 --diver_num=1 --datapath=./data/${train_data} --test_datapath=./data/${test_data} --max_degree=1 --predict=mwis --learning_rate=0.000001 --hidden1=32 --num_layer=3 --epochs=5
# python3 mwis_dqn_origin.py --training_set=${setval} --epsilon=0.05 --epsilon_min=0.002 --feature_size=1 --diver_num=1 --datapath=./data/${train_data} --test_datapath=./data/${test_data} --max_degree=1 --predict=mwis --learning_rate=0.0000001 --hidden1=32 --num_layer=3 --epochs=10

# python3 mwis_dqn_origin.py --training_set=${setval} --epsilon=1 --epsilon_min=0.002 --feature_size=1 --diver_num=1 --datapath=./data/${train_data} --test_datapath=./data/${test_data} --max_degree=1 --predict=mwis --learning_rate=0.00001 --hidden1=32 --num_layer=4 --epochs=25
# python3 mwis_dqn_origin.py --training_set=${setval} --epsilon=1 --epsilon_min=0.002 --feature_size=1 --diver_num=1 --datapath=./data/${train_data} --test_datapath=./data/${test_data} --max_degree=1 --predict=mwis --learning_rate=0.00001 --hidden1=32 --num_layer=4 --epochs=5
# python3 mwis_dqn_origin.py --training_set=${setval} --epsilon=0.2 --epsilon_min=0.002 --feature_size=1 --diver_num=1 --datapath=./data/${train_data} --test_datapath=./data/${test_data} --max_degree=1 --predict=mwis --learning_rate=0.00001 --hidden1=32 --num_layer=4 --epochs=5
# python3 mwis_dqn_origin.py --training_set=${setval} --epsilon=0.1 --epsilon_min=0.002 --feature_size=1 --diver_num=1 --datapath=./data/${train_data} --test_datapath=./data/${test_data} --max_degree=1 --predict=mwis --learning_rate=0.000001 --hidden1=32 --num_layer=4 --epochs=5
# python3 mwis_dqn_origin.py --training_set=${setval} --epsilon=0.05 --epsilon_min=0.002 --feature_size=1 --diver_num=1 --datapath=./data/${train_data} --test_datapath=./data/${test_data} --max_degree=1 --predict=mwis --learning_rate=0.0000001 --hidden1=32 --num_layer=4 --epochs=10
python3 mwis_dqn_origin.py --training_set=${setval} --epsilon=1 --epsilon_min=0.002 --feature_size=1 --diver_num=1 --datapath=./data/${train_data} --test_datapath=./data/${test_data} --max_degree=1 --predict=mwis --learning_rate=0.00001 --hidden1=32 --num_layer=1 --epochs=25

